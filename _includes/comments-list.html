<script>
  // This will need to be a JavaScript solution to fetch and display comments
  // since Quarto doesn't natively support Staticman's data structure
  document.addEventListener('DOMContentLoaded', function() {
    const currentPath = '{{< meta path >}}';

    // Fetch comments from your GitHub repo
    fetch('https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/comments/' + currentPath + '/index.json')
      .then(response => {
        if (!response.ok) {
          throw new Error('No comments yet');
        }
        return response.json();
      })
      .then(comments => {
        const commentsContainer = document.createElement('div');
        commentsContainer.className = 'comments-list';
        
        comments.forEach(comment => {
          const commentDiv = document.createElement('div');
          commentDiv.className = 'comment';
          commentDiv.innerHTML = `
            <h4>${comment.name}</h4>
            <p>${comment.comment}</p>
            <small>${new Date(comment.date).toLocaleDateString()}</small>
          `;
          commentsContainer.appendChild(commentDiv);
        });

        document.querySelector('.comments').appendChild(commentsContainer);
      })
      .catch(error => {
        console.log('No comments yet or error fetching comments:', error);
      });
  });
</script>
